document.addEventListener("DOMContentLoaded",function(a){function n(a,n){var o=i.getImageData(a,n,1,1).data;return o}function o(){for(var a=0;t>a;a++){var o=$("<tr>");r[a]=[];for(var e=0;s>e;e++){var l=n(e,a),f=$("<td>"),i=$("<div>").addClass("bubble").addClass("off").text(" ");0!==l[0]&&i.addClass("black").addClass("on"),r[a][e]=i,f.append(i),o.append(f)}d.append(o)}}function e(){window.setTimeout(function(){function a(){var a=Math.floor(Math.random()*t),n=Math.floor(Math.random()*s),o=r[a][n];o.hasClass("black")||(o.hasClass("off")?o.addClass("on").removeClass("off"):o.hasClass("on")?o.addClass("wink").removeClass("on"):o.hasClass("wink")&&o.removeClass("wink").addClass("off"))}for(var n=Math.floor(10*Math.random()),o=0;n>o;o++)a();e()},500)}var s=42,t=15,d=$("<table>"),r=[],l=new Image;l.src="/images/tagline.png";var f=document.createElement("canvas"),i=f.getContext("2d");l.onload=function(){console.log("drawing"),i.drawImage(l,0,0),o()},window.setTimeout(e,5e3),$("#viz").on("mouseenter",function(){$(".bubble").not(".black").removeClass("on").removeClass("wink").addClass("off")}),$("#viz").append(d)});